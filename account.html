<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" href="./images/favicon.ico" type="image/x-icon" />
    <title>編輯個人基本資料</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,400i,700,700i" rel="stylesheet" />

    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css" />
    <link rel="stylesheet" href="css/animate.css" />

    <link rel="stylesheet" href="css/owl.carousel.min.css" />
    <link rel="stylesheet" href="css/owl.theme.default.min.css" />
    <link rel="stylesheet" href="css/magnific-popup.css" />

    <link rel="stylesheet" href="css/aos.css" />

    <link rel="stylesheet" href="css/ionicons.min.css" />

    <link rel="stylesheet" href="css/bootstrap-datepicker.css" />
    <link rel="stylesheet" href="css/jquery.timepicker.css" />

    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/flaticon.css" />
    <link rel="stylesheet" href="css/icomoon.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/VerticalTabStyle.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous" />

    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
</head>

<body>
    <nav class="
        navbar navbar-expand-lg navbar-dark
        ftco_navbar
        bg-dark
        ftco-navbar-light
      " id="ftco-navbar">
        <div class="container">
            <a class="navbar-brand" href="index.html"><img src="images/logo.png" class="navbar-brand" href="index.html" width="40px" height="40px" /></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="oi oi-menu"></span> Menu
            </button>

            <div class="collapse navbar-collapse" id="ftco-nav">
                <ul class="navbar-nav ml-auto navbar-nav">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">首頁</a>
                    </li>
                    <li class="nav-item">
                        <a href="#Create" class="nav-link" data-toggle="modal" data-target="#Create">新增廁所</a>
                    </li>
                    <li class="nav-item">
                        <a href="./Control_Panel/index.html" class="nav-link">去後台</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img src="images/user_large.jpg" width="30" height="30" style="border: 2px #d0d0d0 solid; border-radius: 50%" /></a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item active" href="account.html">個人資料</a>
                            <a class="dropdown-item" href="Login.html">登入</a>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- END nav -->

    <div class="hero-wrap" style="background-image: url('images/2.jpeg')">
        <div class="overlay"></div>
        <div class="container">
            <div class="
            row
            no-gutters
            slider-text
            d-flex
            align-itemd-end
            justify-content-center
          ">
                <div class="
              col-md-9
              ftco-animate
              text-center
              d-flex
              align-items-end
              justify-content-center
            ">
                    <div class="text">
                        <p class="breadcrumbs mb-2">
                            <span class="mr-2"><a href="index.php">Home</a></span>
                            <span>編輯基本資料</span>
                        </p>
                        <h1 class="mb-4 bread">編輯資料</h1>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <section class="ftco-section bg-light">
        <div>
            <div class="container">
                <div class="row" style="justify-content: center; align-items: center">
                    <div class="col-lg-9" style="
                display: flex;
                justify-content: center;
                align-items: center;
              " id="app">
                        <div class="tab">
                            <button class="tablinks" onclick="openCity(event, 'Profile')">
                                基本資料
                            </button>
                            <button class="tablinks" onclick="openCity(event, 'Account')">
                                帳號管理
                            </button>
                        </div>
                        <div id="Profile" class="tabcontent" style="display: inline" id="app">
                            <div align="center">
                                <br />
                                <div class="page-wrap" style="display: inline">
                                    <div class="profile" style="display: inline">
                                        <div class="profile-avatar-wrap" style="display: inline">
                                            <label id="photo" style="display: inline">&nbsp;&nbsp;&nbsp;&nbsp;<img id="profile-avatar" src="images/user_large.jpg" width="50" height="50" style="
                              border: 2px #d0d0d0 solid;
                              border-radius: 50%;
                            " />&nbsp;&nbsp;&nbsp;&nbsp;</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="borderstyle">
                                <br />
                                <label style="width: 80px; text-align: center"><b>帳&nbsp;&nbsp;&nbsp;號</b></label>
                                <label style="display: inline" id="name">{{account.name}}</label><label><input id="EditName" type="text" :placeholder="account.name" v-model.lazy="account_info.name" name="請輸入姓名" style="display: none; width: 100px" /></label>
                                <div style="float: right" id="EditNamebt">
                                    <a style="cursor: pointer" onclick="edit('Name')"><i style="font-size: 16px" class="far" data-toggle="modal" data-target="#modell">&#xf044;</i></a>&nbsp;&nbsp;
                                </div>
                                <div id="NameCheck" style="float: right; display: none">
                                    <a style="cursor: pointer" id="NameCheckbt" @click="update_account"><i style="font-size: 16px" class="fas" data-toggle="modal" data-target="#modell">&#xf00c;</i></a>&nbsp;&nbsp;<a style="cursor: pointer" id="NameCanclebt" onclick="update('NameCancle')"><i style="font-size: 16px" class="fa" data-toggle="modal" data-target="#modell">&#xf00d;</i></a>&nbsp;&nbsp;
                                </div>
                            </div>
                            <div class="borderstyle">
                                <br />
                                <label style="width: 80px; text-align: center"><b>評論數量</b></label>
                                <label>{{comment}}</label>
                            </div>
                        </div>

                        <div id="Account" class="tabcontent">
                            <div class="borderstyle">
                                <br />
                                <label style="width: 60px; text-align: center"><b>EMail</b></label>
                                <label style="display: inline" id="Mail">{{account.email}}</label><label><input id="EditMail" type="text" :placeholder="account.email" v-model.lazy="account_info.email" name="請輸入電子郵件" style="display: none; width: 120px" /></label>
                                <div style="float: right" id="EditMailbt">
                                    <a style="cursor: pointer" onclick="edit('Mail')"><i style="font-size: 16px" class="far" data-toggle="modal" data-target="#modell">&#xf044;</i></a>&nbsp;&nbsp;
                                </div>
                                <div id="MailCheck" style="float: right; display: none">
                                    <a style="cursor: pointer" id="MailCheckbt" @click="update_account"><i style="font-size: 16px" class="fas" data-toggle="modal" data-target="#modell">&#xf00c;</i></a>&nbsp;&nbsp;<a style="cursor: pointer" id="MailCanclebt" onclick="update('MailCancle')"><i style="font-size: 16px" class="fa" data-toggle="modal" data-target="#modell">&#xf00d;</i></a>&nbsp;&nbsp;
                                </div>
                            </div>
                            <div class="borderstyle">
                                <br />
                                <label style="width: 60px; text-align: center"><b>密&nbsp;&nbsp;&nbsp;碼</b></label><label id="Password" style="display: inline">已設定</label>
                                <div id="EditPassword" style="display: none">
                                    <br />
                                    <label style="margin-left: 8px">舊密碼&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input id="EditOldPassword" type="password" name="舊密碼" v-model="password" style="display: none; width: 120px" /></label>
                                    <br />
                                    <div v-show="password==account.password">
                                        <label style="margin-left: 8px">新密碼&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input id="EditNewPassword" type="password" name="新密碼" v-model.lazy="account_info.password" style="display: none; width: 120px" /></label>
                                        <br />
                                        <label style="margin-left: 8px">確認密碼&nbsp;&nbsp;&nbsp;<input id="CheckNewPassword" type="password" name="確認新密碼" v-model="checkpass" style="display: none; width: 120px" /></label>
                                    </div>
                                </div>
                                <div style="float: right" id="EditPasswordbt">
                                    <a style="cursor: pointer" onclick="edit('Password')"><i style="font-size: 16px" class="far" data-toggle="modal" data-target="#modell">&#xf044;</i></a>&nbsp;&nbsp;
                                </div>
                                <div id="PasswordCheck" style="float: right; display: none">
                                    <a style="cursor: pointer" id="PasswordCheckbt" @click="update_account" v-if="checkpass==account_info.password && account_info.password.length>5 "><i style="font-size: 16px" class="fas" data-toggle="modal" data-target="#modell">&#xf00c;</i></a>&nbsp;&nbsp;<a style="cursor: pointer" id="PasswordCanclebt" onclick="update('PasswordCancle')"><i style="font-size: 16px" class="fa" data-toggle="modal" data-target="#modell">&#xf00d;</i></a>&nbsp;&nbsp;
                                </div>
                            </div>
                            <div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="Create" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog model-dialog-centered modal-lg" role="document" style="width: 400">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                    </div>
                    <div class="modal-body" style="align-content: center">
                        <table align="center" style="text-align: center; border-collapse: separate" rules="none">
                            <tr height="40">
                                <td style="width: 100px">
                                    <font color="red">＊</font>廁所名稱
                                </td>
                                <td align="left">
                                    <input v-model.trim="create_toilet.name" rows="1" style="width: 200px" required />
                                </td>
                            </tr>

                            <tr height="40">
                                <td style="width: 100px">
                                    <font color="red">＊</font>國家
                                </td>
                                <td align="left">
                                    <select v-model="create_toilet.country_id" style="width: 200px">
                                        <option value="-1" selected disabled>國家</option>
                                        <option v-for="country in countries" :value="country.country_id">
                                            {{country.country_name}}
                                        </option>
                                    </select>
                                </td>
                            </tr>

                            <tr height="40">
                                <td style="width: 100px">
                                    <font color="red">＊</font>城市
                                </td>
                                <td align="left">
                                    <select v-model="create_toilet.city_id" style="width: 200px">
                                        <option value="-1" selected disabled>城市</option>
                                        <option v-for="city in cities" :value="city.city_id" v-show="city.country_id == create_toilet.country_id">
                                            {{city.city_name}}
                                        </option>
                                    </select>
                                </td>
                            </tr>

                            <tr height="40">
                                <td style="width: 100px">
                                    <font color="red">＊</font>地區
                                </td>
                                <td align="left">
                                    <select v-model="create_toilet.district_id" style="width: 200px">
                                        <option value="-1" selected disabled>地區</option>
                                        <option v-for="district in districts" :value="district.district_id" v-show="district.city_id == create_toilet.city_id">
                                            {{district.district_name}}
                                        </option>
                                    </select>
                                </td>
                            </tr>
                            <tr height="40">
                                <td style="width: 100px">
                                    <font color="red">＊</font>地址
                                </td>
                                <td align="left">
                                    <input v-model.trim="create_toilet.address" rows="1" style="width: 200px" required />
                                </td>
                            </tr>
                            <tr height="40">
                                <td style="width: 100px">
                                    <font color="red">＊</font>經緯度
                                </td>
                                <td align="left">
                                    <button type="button" class="btn" @click="create_showPosition" style="background: white">
                                        <img src="images/gps.png" width="30" height="30" />
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 100px"></td>
                                <td>
                                    <input id="longitude" v-model="create_toilet.longitude" :type="isShow ? 'show':'hidden'" disabled />
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 100px"></td>
                                <td>
                                    <input id="latitude" v-model="create_toilet.latitude" :type="isShow ? 'show':'hidden'" disabled />
                                </td>
                            </tr>
                            <tr>
                                <td colspan="2">
                                    <img id="output" height="150" style="display: none" />
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <input type="submit" @click="createto" class="btn btn-primary" value="送出" style="width: 80px; height: 35px; font-size: 13px" />
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- loader -->
    <div id="ftco-loader" class="show fullscreen">
        <svg class="circular" width="48px" height="48px">
            <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee" />
            <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00" />
        </svg>
    </div>

    <!--小卡片的內容-->
    <script>
        function openCity(evt, cityName) {
            // Declare all variables
            var i, tabcontent, tablinks;

            // Get all elements with class="tabcontent" and hide them
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }

            // Get all elements with class="tablinks" and remove the class "active"
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }

            // Show the current tab, and add an "active" class to the link that opened the tab
            document.getElementById(cityName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        function edit(category) {
            var value;
            console.log(category);
            if (category == "Name") {
                document.getElementById("name").style.display = "none";
                document.getElementById("EditName").style.display = "inline";
                document.getElementById("EditNamebt").style.display = "none";
                document.getElementById("NameCheck").style.display = "inline";
            }
            if (category == "Mail") {
                document.getElementById("Mail").style.display = "none";
                document.getElementById("EditMail").style.display = "inline";
                document.getElementById("EditMailbt").style.display = "none";
                document.getElementById("MailCheck").style.display = "inline";
            }
            if (category == "Password") {
                document.getElementById("Password").style.display = "none";
                document.getElementById("EditPassword").style.display = "inline";
                document.getElementById("EditOldPassword").style.display = "inline";
                document.getElementById("EditNewPassword").style.display = "inline";
                document.getElementById("CheckNewPassword").style.display = "inline";
                document.getElementById("EditPasswordbt").style.display = "none";
                document.getElementById("PasswordCheck").style.display = "inline";
            }
        }

        function update(category) {
            var value;
            if (category == "Name" || category == "NameCancle") {
                if (category == "Name") {
                    value = document.getElementById("EditName").value;
                    document.getElementById("name").innerHTML =
                        "<label id = 'name' style='display: inline;''>" +
                        value +
                        "</label>";
                }
                document.getElementById("name").style.display = "inline";
                document.getElementById("EditName").style.display = "none";
                document.getElementById("EditNamebt").style.display = "inline";
                document.getElementById("NameCheck").style.display = "none";
            }

            if (category == "Mail" || category == "MailCancle") {
                if (category == "Mail") {
                    value = document.getElementById("EditMail").value;
                    document.getElementById("Mail").innerHTML =
                        "<label id = 'Mail' style='display: inline;''>" +
                        value +
                        "</label>";
                }
                document.getElementById("Mail").style.display = "inline";
                document.getElementById("EditMail").style.display = "none";
                document.getElementById("EditMailbt").style.display = "inline";
                document.getElementById("MailCheck").style.display = "none";
            }
            if (category == "Password" || category == "PasswordCancle") {
                document.getElementById("Password").innerHTML =
                    "<label id='Password' style='display: inline;''>已設定</label>";
                document.getElementById("Password").style.display = "inline";
                document.getElementById("EditPassword").style.display = "none";
                document.getElementById("EditPasswordbt").style.display = "inline";
                document.getElementById("PasswordCheck").style.display = "none";
                document.getElementById("EditOldPassword").style.display = "none";
                document.getElementById("EditNewPassword").style.display = "none";
                document.getElementById("CheckNewPassword").style.display = "none";
            }
        }

    </script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-migrate-3.0.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/jquery.animateNumber.min.js"></script>
    <script src="js/bootstrap-datepicker.js"></script>
    <script src="js/scrollax.min.js"></script>
    <script src="js/google-map.js"></script>
    <script src="js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-router@2.0.0/dist/vue-router.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"></script>

    <!-- Vue actions -->
    <script src="./js/vue/account_member_action.js"></script>
    <script src="./js/vue/account_searchtoilet.js"></script>
</body>

</html>
